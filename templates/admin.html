{% extends "base.html" %}
{% block title %}Admin - POS{% endblock %}
{% block page_title %}User Management{% endblock %}
{% block content %}
<div class="section-header">
    <div>
        <h2 class="section-title">Users</h2>
        <p class="section-subtitle">{{ users|length }} users with POS access.</p>
    </div>
    <button data-modal-open="addUserModal" class="btn btn-primary" type="button">Add User</button>
</div>

<article class="card panel table-wrap">
    <table>
        <thead>
            <tr><th>ID</th><th>Username</th><th>Role</th></tr>
        </thead>
        <tbody>
        {% for u in users %}
            <tr>
                <td>{{ u['id'] }}</td>
                <td>{{ u['username'] }}</td>
                <td>{{ u['role'] }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</article>

<div id="addUserModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop" data-modal-close></div>
    <div class="modal-dialog card panel" role="dialog" aria-modal="true" aria-labelledby="addUserTitle">
        <div class="section-header">
            <div>
                <h2 id="addUserTitle" class="section-title">Add User</h2>
                <p class="section-subtitle">Create a POS account.</p>
            </div>
            <button class="btn btn-muted" type="button" data-modal-close>Close</button>
        </div>

        <form method="POST" class="field-grid">
            <div class="field">
                <label for="modal_username">Username</label>
                <input id="modal_username" type="text" name="username" required>
            </div>
            <div class="field">
                <label for="modal_password">Password</label>
                <input id="modal_password" type="password" name="password" required>
            </div>
            <div class="field">
                <label for="modal_role">Role</label>
                <select id="modal_role" name="role">
                    <option>Cashier</option>
                    <option>Manager</option>
                    <option>Admin</option>
                </select>
            </div>
            <div class="inline-actions modal-actions">
                <button class="btn btn-primary" type="submit">Add User</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
